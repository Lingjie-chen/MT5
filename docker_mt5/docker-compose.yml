version: '3.8'

services:
  mt5-bot:
    build:
      context: ..
      dockerfile: docker_mt5/Dockerfile
    container_name: mt5_bot_gold
    platform: linux/amd64
    ports:
      - "5900:5900"
    volumes:
      # Persist Wine Data (MT5 install, accounts, logs)
      - mt5_data:/root/.wine
      # Mount source code for live updates (optional, remove for production)
      - ..:/app
    environment:
      - DISPLAY=:1
    # Command to run your bot (Account 1 = Ava, Account 2 = Exness)
    command: python gold/start.py GOLD,ETHUSD,EURUSD --account 1
    restart: unless-stopped

volumes:
  mt5_data:
